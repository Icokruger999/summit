{
  "commands": [
    "echo '=== Service Status Check ==='",
    "echo ''",
    "echo '1. PM2 Process Status:'",
    "export HOME=/root",
    "pm2 list",
    "echo ''",
    "echo '2. Backend Server Health:'",
    "curl -s http://localhost:3000/health 2>&1",
    "echo ''",
    "echo '3. Nginx Status:'",
    "systemctl status nginx --no-pager | head -10",
    "echo ''",
    "echo '4. Port 3000 Listening:'",
    "ss -tlnp | grep :3000 || netstat -tlnp | grep :3000 || echo 'Port 3000 NOT listening'",
    "echo ''",
    "echo '5. Port 80/443 Listening (Nginx):'",
    "ss -tlnp | grep -E ':(80|443)' || netstat -tlnp | grep -E ':(80|443)' || echo 'Ports 80/443 NOT listening'",
    "echo ''",
    "echo '6. Test Backend via Nginx:'",
    "curl -s http://localhost/health -H 'Host: summit.api.codingeverest.com' 2>&1 | head -3",
    "echo ''",
    "echo '7. PM2 Process Details:'",
    "pm2 describe summit 2>&1 | grep -E '(status|restarts|uptime|cpu|memory)' | head -10"
  ]
}

