{
  "commands": [
    "echo '=== Ensuring PM2 Auto-Start Configuration ==='",
    "echo ''",
    "export HOME=/root",
    "cd /var/www/summit/server",
    "echo '1. Saving PM2 process list:'",
    "pm2 save",
    "echo ''",
    "echo '2. Setting up PM2 startup script:'",
    "pm2 startup systemd -u root --hp /root 2>&1 | grep -v 'PM2' | grep -v 'command' || echo 'Startup already configured'",
    "echo ''",
    "echo '3. Verifying PM2 processes are saved:'",
    "pm2 list",
    "echo ''",
    "echo '4. Checking PM2 is running:'",
    "systemctl status pm2-root --no-pager | head -5 || echo 'PM2 service not found (this is okay if processes are managed differently)'",
    "echo ''",
    "echo 'âœ… PM2 auto-start configured'"
  ]
}

